<div fxLayout="row" fxLayoutGap="30px" class="buttons-wrapper">
  <button
    class="orange-button"
    mat-button
    (click)="goToParticipantsList()">
    <mat-icon>arrow_back</mat-icon>
    <span>
    {{'ACTIONS.BACK' | translate}}
  </span>
  </button>

  <div fxLayout="row" *userPermission="['ADMIN']">
    <button
      class="orange-button"
      mat-button
      (click)="editParticipant()"
      *ngIf="!editMode; else editModeBlock">
      <mat-icon>edit</mat-icon>
      <span>
        {{'ACTIONS.EDIT' | translate}}
      </span>
    </button>

    <ng-template #editModeBlock>
      <button
        class="green-button"
        mat-button
        (click)="saveParticipant()">
        <mat-icon>done</mat-icon>
        <span>
          {{'ACTIONS.SAVE' | translate}}
        </span>
      </button>

      <button
        class="red-button"
        mat-button
        (click)="cancelEditing()">
        <mat-icon>close</mat-icon>
        <span>
        {{'ACTIONS.CANCEL' | translate}}
      </span>
      </button>
    </ng-template>
  </div>
</div>

<div class="mt-25">
  <ng-container *ngIf="editMode; else viewMode">
    <div class="quill-editor-wrapper">
      <div class="editor-label">Текст (UA):</div>
      <quill-editor
        [modules]="quillConfig"
        [(ngModel)]="participant.bio.ua"
        [placeholder]="'Біо учасника фестивалю'"></quill-editor>
    </div>
    <div class="quill-editor-wrapper">
      <div class="editor-label">Text (EN):</div>
      <quill-editor
        [modules]="quillConfig"
        [(ngModel)]="participant.bio.en"
        [placeholder]="'The participant\'s bio'"></quill-editor>
    </div>

    <div class="editor-label">Upload image: </div>
    <app-drag-n-drop-upload
      [acceptMimetype]="'image/*'"
      [multiple]="false"
      (fileUploaded)="changeImage($event)"
    ></app-drag-n-drop-upload>
    <div class="edit-image-container">
      <button
        class="clear-button"
        mat-mini-fab color="warn"
        matTooltip="Clear image"
        (click)="openClearImageDialog()"
        *ngIf="imageUrl">
        <mat-icon>clear</mat-icon>
      </button>
      <img [src]="imageUrl" alt="No image" *ngIf="imageUrl" width="500">
    </div>
  </ng-container>
  <ng-template #viewMode></ng-template>
</div>
